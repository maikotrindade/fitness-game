<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
    <h:outputStylesheet library="css" name="style.css"/>

    <h:head>
        <title>Fitness Game</title>
    </h:head>
    <f:event type="preRenderView" listener="#{editAthleteBean.preRenderView()}" />

    <h:body>
        <h:outputStylesheet library="css" name="style.css"/>
        <h:form>
            <p:menubar>
                <p:menuitem>
                    <h:link outcome="/index">
                        <h:graphicImage id="logotipo" url="/resources/image/logo.png"/> 
                    </h:link>
                </p:menuitem>
                <p:menuitem value="Treinos" outcome="/treinos"/> 
                <p:menuitem value="Perfil" outcome="/atleta/perfil" />
                <p:menuitem value="Como funciona?" outcome="/sobre" />
                <f:facet name="options">
                    <h:link id="login" outcome="login" value="login" rendered="#{sessionBean.sessionUser == null}"/>                   
                    <h:outputText id="userAccount" value="#{sessionBean.sessionUser.name}"/>
                    <p:commandLink id="logout" actionListener="#{sessionBean.logout}" rendered="#{sessionBean.sessionUser != null}">
                        <h:outputText value="logout" />
                    </p:commandLink>
                </f:facet> 
            </p:menubar>
        </h:form>
        <br />

        <h:form>
            <p:panel styleClass="centralized">
                <p:panelGrid styleClass="centralized" style="margin-top: 90px;">
                    <p:row>
                        <p:column rowspan="4">
                            <h:graphicImage id="user"
                                            alt="user"
                                            url="../resources/image/user.png">
                            </h:graphicImage>
                        </p:column>
                        <p:column colspan="4">
                            <p:outputLabel value="Nome: "/>
                            <p:inputText value="#{editAthleteBean.athlete.name}"/> 
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column colspan="2"> 
                            <p:outputLabel value="Data de Nascimento: "/>                              
                            <p:calendar value="#{editAthleteBean.athlete.birthday}" id="birthday" navigator="true" pattern="dd/MM/yyyy" size="10" effect="fade" effectDuration="2500" yearRange="c-80:c+0" /> 
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column colspan="4">
                            <p:outputLabel value="E-mail: "/>
                            <p:inputText value="#{editAthleteBean.athlete.email}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column colspan="4">
                            <p:outputLabel value="Senha: "/>
                            <p:password value="#{editAthleteBean.athlete.password}"/>
                        </p:column>
                    </p:row>
                </p:panelGrid>
                <p:panel style="font-size: 14px; margin-bottom: 70px; border: none;">
                    <p:commandButton value="Salvar alterações" type="submit" action="#{editAthleteBean.updateAthlete()}" icon="ui-icon-disk"/>
                </p:panel>
            </p:panel>
        </h:form>        

    </h:body>

    <p:panel styleClass="footer">
        Desenvolvido por <h:outputLink value="http://maikotrindade.github.io/" target="_blank">Maiko Trindade</h:outputLink> 2014
    </p:panel>

</html>